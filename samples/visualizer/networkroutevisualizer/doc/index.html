<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" type="text/css" href="../../samples.css">
	<title>Network Route Visualization example</title>

</head>

<body>
	<h1><center>Network Route Visualization example</center></h1>

	<p><h2>Goals</h2></p>

	<p>
        In complex, non-trivial or in ad hoc networks, without detailed routing informations it is impossible to determine the path of a packet between remote hosts.
        Visualizing network routes is advantageous, because we can trace a packet's route from the source to the destination.
        It is especially helpful if there is a dynamic routing protocol in the network.
        If there is a change in the routes e.g because a router go wrong, we get information immediately about the changing routes.
	</p>	
    <p>    
        The example consists of 4 simulation models, each demonstrating different features of network route visualization.
    </p>	
    <!--
        Miért jó ez a visualizer?
        Problem: Non-trivial/redundáns útvonalakat tartalmazó/Ad-hoc hálózatokban nehéz megállapítani a csomagok útvonalát két olyan állomás között, amelyek különböző hálózatokban vannak.
        Routing táblák nézegetése nélkül látjuk az útvonalakat teljes hosszában.
        Ez dinamikus routing protokolloknál különösen hasznos...
        Router meghibásodása esetén azonnal értesülünk az útvonal megváltozásáról.
            
        Mit mutat be a sample?
        A sample-ön belül 3 szimulációt találunk, egyre bonyolultabbakat. Mindegyikben különböző funkciókat mutatunk be.        
    -->

    <p><h2>About the visualizer</h2></p>

    <p>
        The <var>NetworkRouteVisualizer</var> keeps track of active network routes.
        A network route between two nodes is considered active if a packet reaches the destination's network layer.
        By default routes are not displayed, we can enable their vsisualization by switching the <i>displayRoutes</i> parameter to true.
	</p>   
    <p> 
        The links are represented visually by solid arrows.
        The arrow's starting point is the source node and its endpoint is the destination node.
        The line goes through those intermediate devices which are the part of the third layer path.
    </p>
    <p>    
        The visualizer has filtering parameters, like <i>nodeFilter</i>, <i>interfaceFilter</i> and <i>packetFilter</i>.
        Using these we can specify which network routes are shown. By default all nodes, all interfaces and all packets are considered for displaying network routes.
        It is possible to use logical expressions as the filter's parameter, e.g <i>packetFilter = "ping* or tcp*"</i> shows the ping and the tcp network routes.
    </p>       
    <!--
        Mi ez a visualizer?
        A networkRouteVisualizer nyilvántartja a harmadik rétegbeli kapcsolatokat.
        Akkor válik aktívvá egy network route két pont között, amikor a csomag eléri a cél állomás hálózati rétegét.

        A kapcsolatokat folytonos nyilak reprezentálják.
        A nyilak kezdőpontja a forrás, végpontja a cél állomás.
        A nyíl keresztülmegy azokon a közbülső eszközökön, melyek részei a harmadik rétegbeli útvonalnak.
        A nyilak stílusát, filtereket lehet testreszabni.
        Több networkRouteVisualizert is beállíthatunk.
    -->

	<p><h2>Enabling Network Routes</h2></p>
    
    <p>
        This simulation demonstrates how to enable the default look of the visualization of network routes.
    </p>
    <p>
        The network for this configuration contains two <var>Standardhosts</var>, an <var>IPv4NetworkConfigurator</var> module which enables the hosts to communicate and a <var>NetworkRouteVisualizer</var> module which shows the network routes.
    </p>
    <p>
        <img class="screen" src="NetworkRouteSimple.png">
    </p>
    <p>
        The configuration is really simple.
        The <var>source</var> pings the <var>destination</var> and an additional line enables the visualizer with the <i>displayRoutes</i> parameter:
        <div class="snippet">
            # Application parameters<br>
            *.source.numPingApps = 1<br>
            *.source.pingApp[0].destAddr = "destination"<br>
            <br>
            # Visualizer parameters<br>
            *.routeVisualizer.*.displayRoutes = true<br>
        </div>
    </p>
    <p align="center">        
        <video autoplay loop controls onclick="this.paused ? this.play() : this.pause();" width=630 height=276 src="NetworkRouteSimple.mp4">
    </p>
    <p>
        The ping message activates a network route between the devices. The further packets, like ARP messages go up to the data link layer only, so they don't activate a network route. After 1 second in real time, the network route fades out.
    </p>
    <!--
        Mit csinálunk / mi a sample célja?
            Ebben a példában megmutatjuk, hogyan kell bekapcsolni a visualization default kinézetét.
                
        Mi a konfig?
            A konfiguráció két host-ot tartalmaz, egy configuratort és a visualizert
            A source pingeli a destinationt.
            Bekapcsoljuk a vizualizációt.

        Mi az eredmény?
            gif
            A ping üzenetek aktiválják a network route-ot, más nem történik a harmadik rétegben
    -->


    <p><h2>Displaying Static Network Routes</h2></p>
    <p>
        The simulation demonstrates the visualization of static routes in a non-trivial network.
        We also show how the <i>packetFilter</i> parameter works.
        Here is the network for this configuration:
    </p>
    <p>
        <img class="screen" src="NetworkRouteExtended.png">
    </p>
    <p>
        The topology consists of five routers, four switches and four <var>StandardHosts</var>. 
        There are two <var>source</var> hosts and two <var>destination</var> hosts.
        Similarily to the previous configuration, the <var>sources</var> ping the <var>destinations</var>.
        We enable network routes with the <i>displayRoutes</i> parameter, but only when the message type is ping.
        We adjust the <i>fadeOutMode</i> and the <i>fadeOutTime</i> parameters, so the data link doesn't fade out completely before the next ping message arrives.
        <div class="snippet">
            # Application parameters<br>
            *.source*.numPingApps = 1<br>
            *.source1.pingApp[0].destAddr = "destination1"<br>
            *.source2.pingApp[0].destAddr = "destination2"<br>
            <br>
            # Visualizer parameters<br>
            *.visualizer.*.networkRouteVisualizer.displayRoutes = true<br>
            *.visualizer.*.networkRouteVisualizer.packetFilter = "ping*"<br>
            *.visualizer.*.networkRouteVisualizer.fadeOutMode = "simulationTime"<br>
            *.visualizer.*.networkRouteVisualizer.fadeOutTime = 1.4s<br>
        </div>
    </p>
    <p>
        The following video shows what happens, when we start the simulation:
    </p>
    <p align="center">        
        <video autoplay loop controls onclick="this.paused ? this.play() : this.pause();" width=820 height=556 src="StaticNetworkRoute.mp4">
    </p>
    <p>
        Only the network routes of the ping messages are displayed because of the <i>packetFilter</i> parameter.
        Each arrow represents a different route.
        The arrows fade out gradually in simulation time, but not completely, because the <i>fadeOutTime</i> is greater than the sending interval of ping messages.
    </p>
    <!--
        Mit csinálunk/mi a cél?
            A szimuláció azt demonstrálja, hogy hogyan vizualizálódnak a static route-ok egy non-trivial networkben.
            A packetFilter paraméter működését is bemutatjuk.

        Mi a konfig?
            A topologia 5 routerből, 4 switchből és 4 hostból épül fel.
            A két source host pingeli a két destination host-ot.
            A visualizer a ping üzenetek esetén mutatja a network route-okat.
            finomítjuk a fadeOut paramétereket, hogy a network route-ok ne fade-eljenek el teljesen, mielőtt jön a következő csomag

        Mi az eredmény?
            gif
            A ping üzenetek network route-jai rajzolódnak ki.
            Mindegyik nyíl egy-egy útvonalat jelent
            A folytonos nyilak megjelennek és a fadeOutTime-nak megfelelő idő alatt elhalványodnak.
    -->

    
    <p><h2>Displaying Dynamic Network Routes</h2></p>
    <p>
        In this simulation we show how the network route establishes and how it changes between moving nodes.
        Here is the network that we use for this configuration:
    </p>
    <p>
        <img class="screen" src="DynamicNetworkRoutes.png">
    </p>
    <p>
        The network contains a <var>source</var>, a <var>destination</var> and five more <var>AODVRouters</var>.
        All nodes move randomly between borders.
        The <var>source</var> pings the <var>destination</var>. In additional there is an <var>IPv4NetworkConfigurator</var> module an <var>IntegratedVisualizer</var> module and an <var>Ieee80211ScalarRadioMedium</var> module. These modules are required for the appropriate network operation.
    </p>
    <p>
        The following video depicts what happens, when the simulation is run:
    </p>
    <p align="center">        
        <video autoplay loop controls onclick="this.paused ? this.play() : this.pause();" width=610 height=660 src="DynamicNetworkRoute.mp4">
    </p>
    <p>
        When the ping reaches the destination's network layer, the visualizer draws the packet's network route.
        The nodes move randomly and their communication range is small, so the route will change between the source and the destination sooner or later.
        The visualizer displays the network route after the packet arrives to the destination, so we get information about the route changes.
    </p>

    <!--
        Mit csinálunk/mi a cél?
            A szimulációban megmutatjuk, hogy mozgó node-ok között hogy alakul ki, illetve hogyan változik meg a network route
            

        Mi a konfig?
            A hálózat tartalmaz egy forrást, egy célt, meg aodvroutereket még
            Van benne integratedvisu, radiomedium meg configurator, ezek szükségesek a megfelelő működéshez

        Mi az eredmény?
            Amikor a ping eléri a destination network layer-ét, akkor a visualizer kirajzolja a route-ot.
            A node-ok összevissza mozognak, a kis communication range-ek miatt előbb-utóbb megváltozik a source és a destination közötti útvonal.
            A network route a csomag beérkezése után rajzolja ki annak útvonalát, így - közvetetten - tudomást szerzünk az útvonalak változásáról.
            
    -->

    <p><h2>Displaying Changing Network Routes</h2></p>
    <p>
        This configuration demonstartes that, how the visualizer reacts to the routing changes in a complex network.        
        Here is the network for this configuration:
    </p>  
    <p>
        IMG
    </p>
    <p>
        The network contains four RIP routers. Later it turns out, why the RIP is neccessary.
        They are placed and connected so as to create redundant paths.
        There is a wired and a wireless source-destination pair.
        Similarily to the previous configuration, the <var>wiredSource</var> pings the <var>wiredDestination</var> and the <var>wirelessSource</var> pings the <var>wirelessDestination</var>.
        We assign IP addresses manually by creating an xml configuaration file. Here is the network configuration for this topology:
        CONFIGURATOR
        We create a lifecycle for this configuration. By configuring lifecycleController we shut down and start the routers at a given time.
        TODO: For this reason, we use RIP, so the path is changed between the source and the destination.
    </p>  
    <p>
        Ehhez kell bekapcsolnunk a RIP-et, hogy a kikapcsolas utan az addig hasznalatlan router vegye at a kikapcsolt router szerepet.
        Itt van a halozat:
    </p>
    <p>
        
    </p>
    <p>
        Ha elinditjuk a szimulaciot, akkor a kovetkezoket latjuk:
        Eloszor minden packet a router1 fele megy.
        5 masodperc utan leall a router1, a packetek  a router3 fele mennek.
        A 10. masodpercben visszakapcsol a router1, de nem befolyasolja a packet-ek utvonalat.
        A 15. masodpercben lekapcsol a router3, ezert az utvonalak ujbol a router 1-en fognak keresztul menni.
        A 20. masodpercben visszakapcsol a router3, de ez nem befolyasolja a packetek utvonalat.
    </p>


    <p><h2>More information</h2></p>

    <p>
        This example only demonstrated the key features of network route visualization. For more information, refer to the 
<var>NetworkRouteVisualizer</var> NED documentation.
    </p>

</body>
</html>
