<!DOCTYPE html>
<html>
<head>
<link rel="stylesheet" type="text/css" href="../../samples.css">
<title>Obstacle Loss Visualization Example</title>
</head>

<body>

<h1><center>Obstacle Loss Visualization Example</center></h1>

<h2>Goals</h2>

<p>
When radio transmissions go through objects in the physical environment, the objects might reflect and absorb the electromagnetic energy,
depending on the obstacle loss model. This visualization makes it easy to see where radio waves and obstacles intersect, and to have some
information about power loss, which is proportional to the length of the intersection. (TODO: is that correct? the dielectric loss is proportional to that, but not the reflection loss) Additinally, the loss is indicated at the intersection in dB's.
</p>

<h2>About the visualizer</h2>

<p>
The <var>ObstacleLossVisualizer</var> module can display the intersection between physical objects and propagating radio signals.
It can display the magnitude of power loss in dB. Additionally, the face normal vectors can be displayed at both ends of the intersection.
</p>

<p>TODO: how to enable these?</p>

<h2>Enabling the visualization</h2>

<p>The configuration uses the following network:</p>

<img src="obstaclelossnetwork.png">

<p>
It contains 2 <var>AdhocHosts</var>, and a wall between them. The hosts are stationary, and one of them is configured to ping the other.
The wall obstructs the signals. The configuration also contains an
<var>IPv4NetworkConfigurator</var>, an <var>IntegratedVisualizer</var>, an <var>Ieee80211ScalarRadioMedium</var>, and a 
<var>PhysicalEnvironment</var> module.
</p>

<p>
The visualization is enabled with the <i>displayIntersections</i> parameter. The <i>displayFaceNormalVectors</i> parameter enables the face normal vectors. The default color of the intersection lines is red, which is hardly visible against the brick wall. Thus the color is changed to yellow
with the <i>intersectionLineColor</i> parameter:
</p>

<div class="snippet">
*.visualizer.*.obstacleLossVisualizer.displayIntersections = true
*.visualizer.*.obstacleLossVisualizer.displayFaceNormalVectors = true
*.visualizer.*.obstacleLossVisualizer.intersectionLineColor = "yellow"
</div>

<p>
When the simulation is run, and <var>source</var> starts pinging <var>destination</var>, the signals go through the wall:
</p>

<img src="simple.png">

<p>
The intersection of the wall and the transmission is indicated with a yellow line.
</p>

<h2>Advanced features</h2>



</body>

</html>