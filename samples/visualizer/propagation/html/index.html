<!DOCTYPE html>

<html>

<head>
<title>Propagation Visualization Example</title>
<link rel="stylesheet" type="text/css" href="../../samples.css">
</head>

<body>

<h1>Propagation Visualization Example</h1>

<h2>Goals</h2>

<pre>
the problem is there are multiple hosts transmitting simulateously in a large network
this visualization makes it easier to see which nodes are transmitting and which are receiving at a time
what transmissions are present at various nodes at a time
misc features are the communication ranges and interference ranges. This helps in the placement of nodes, and to fine tune the transmitter
power settings. -> this is not about propagation, its about the mediumvisualizer, so its misc
</pre>

<p>
In a large network, there might be multiple wireless nodes transmitting simulataneously, causing interference at receiving nodes.
One has to go through the logs to see which transmissions are received by which nodes.
One has to go through the tedious process of scanning the logs to see which transmissions are received by which nodes.
The visualization makes it easier to see which nodes are transmitting and which are receiving at any given time,
and what transmissions are present at various nodes.
</p>

<p>
In a large network, there might be multiple wireless nodes transmitting simultaneously, resulting in interference at
receiving nodes, and incorrecly received packets. The logs contain the clues as to what happened to various packets,
but scanning through the logs is a tedious process. By visualizing radio signals as they propagate through space,
it is easier to see which nodes are transmitting and which are receiving at any given time,
and what transmissions are present at various nodes.
</p>

<p>
This example contains 3 configurations of increasing complexity, each showing different features of the visualization.
</p>

<pre>
config 1 - default settings, all visualizations enabled (except for the communicationheat), simple network

config 2 - more complex network, setting the animation speed parameters, and that the animations are not the same duration

config 3 - interference, an important feature, is that it shows that there are multiple transmissions present at a node
			at the same time...overlapping transmissions
</pre>

<h2>About the visualizer</h2>

<p>
The <var>MediumVisualizer</var> module can visualize various aspects of radio transmissions. It can visualize radio signals as they
propagate through space as colored disks with a wave pattern, originating at the signal source node. The disk representing the
signal fades with distance, e.g. as the signal gets weaker further out from the transmitter. By default, different transmissions are colored
differently. The <var>signalColor</var> parameter specifies a set of colors for the signals. The set of colors is either 'light' or 'dark',
the latter is the default. Also, a custom set of colors can be specified, e.g. <i>"blue, red, yellow"</i>. The name of the packet in the transmission is indicated on the disk. The visualization of propagating signals is
enabled with the <var>displaySignals</var> parameter. 
</p>

<p>
The visualizer can indicate that nodes are currently receiving or transmitting a signal, by placing an icon over the node, on the top level
canvas. The power of the transmitted/received signal is indicated in dBW. The visualization of transmissions and receptions are enabled
with the visualizer's <var>displayTransmissions</var> and <var>displayReceptions</var> parameter, respectively.
</p>

<p>
The communication and interference ranges of nodes can be visualized as blue and grey circles, respectively. These are enabled
with the <var>displayCommunicationRanges</var> and <var>displayInterferenceRanges</var> parameters.
</p>

<h2>Displaying signal propagation, transmissions and receptions</h2>

<p>
This configuration demonstrates the visualization, with the visualizer's default settings.
It uses the following network:
</p>

<img class="screen" src="simplenetwork.png">

<p>
It contains two <var>WirelessHosts</var>. Additionally, there is an <var>IPv4NetworkConfigurator</var>, an <var>Ieee80211ScalarRadioMedium</var>,
and an <var>IntegratedVisualizer</var> module. The <var>host1</var> is configured to send UDP packets to <var>host2</var>. Displaying of transmissions and receptions, propagating signals, communication and interference ranges are enabled with these visualizer settings:
</p>

<pre class="snippet">
*.visualizer.*.mediumVisualizer.displaySignals = true
*.visualizer.*.mediumVisualizer.displayReceptions = true
*.visualizer.*.mediumVisualizer.displayTransmissions = true
*.visualizer.*.mediumVisualizer.displayCommunicationRanges = true
*.visualizer.*.mediumVisualizer.displayInterferenceRanges = true
</pre>

<p>When the simulation is the networks looks like this:</p>

<img class="screen" src="simple.png" width="850px">

<p>
Small pieces of the communication range circles are visible in the right corners of the image. When zoomed out,
the communication range circles are completely visible:
</p>

<img class="screen" src="commrange.png">

<p>
The interference ranges are way larger than the communication ranges.
When even more zoomed out, the interference range cicles are visible as well:
</p>

<img class="screen" src="interferencerange.png">

<p>TODO: this should be done simpler...the transmitter power should be adjusted</p>

<p>
This animation illustrates the visualization of propagating signals:
</p>

<video autoplay loop controls src="propagation2.mp4" width="750" height="540"></video>

<p>
The <var>host1</var> sends an ARP request packet to <var>host2</var>, which sends an ARP reply.
The <var>host1</var> ACKs it, then sends the first UDP packet. This is followed by <var>host2's</var> ACK.
The blue transmission indicator icons are displayed above nodes when they are transmitting. Similarly,
the red reception indicators are displayed above them when they are receiving. The transmission power
and power of the received signal is indicated on the transmission/reception icons in dBW.
</p>

<strong>The propagating signal</strong>

<p>
The visualization of the propagating signal has two phases.
One of them is at the beginning and the end of the transmission, visualized with a growing and receeding disk.
The other is when the transmission is present on the entire playground.
The animation slows down at the beginning and at the end, when the edges of the signal are propagating. Since
this happens very fast, with the speed of light, the animation has to be slow in order for it to be visible.
When the signal is present on the playground (while the disk is still growing fast somewhere far from all the nodes in the network, outside of the playground), keeping this same animation speed would result in the transmission animation being very long. The transmission itself
has a duration that is a few magnitudes longer than the time it takes for the beginning of the transmission to reach the nodes fathest away
from the source. Thus a different, faster animation speed is required when the transmission is present at all nodes.
The animation speed changes smoothly between the two values. This described the default animation speed settings. They can be configured with the visualizer's parameters,
more on this in the next section.
</p>

<h2>Multiple nodes</h2>

<p>
This configuration contains three nodes, as opposed to two in the previous one. Additionally, this section describes the
propagation animation settings of the visualizer. The configuration uses the following network:
</p>

<img class="screen" src="multiplenodesnetwork.png">

<p>
It contains three <var>AdhocHosts</var>. Additionally, it contains an <var>IPv4NetworkConfigurator</var>, an <var>Ieee80211ScalarRadioMedium</var>,
and an <var>IntegratedVisualizer</var> module. The <var>source</var> is configured to ping the <var>destination</var>. The communication ranges
are configured so that hosts can reach only the adjacent hosts. This the center host relays packets between the hosts on the two sides.
</p>

<p>TODO: the animation speed settings</p>

<p>TODO: the video</p>

<p>TODO: whats on the video</p>

<p>TODO: the 3rd config</p>

<p>TODO: further info</p>

</body>

</html>