<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" type="text/css" href="../../samples.css">
	<title>Data link visualizer example</title>

</head>

<body>
	<h1><center>Data link visualizer example</center></h1>

	<p><h2>Goals</h2></p>

	<p> 
        In complex networks there are a lot of communication between the nodes. It is difficult to ascertain whether a packet arrived to the receiver node succesfully. 
        Visualizing data links we can determine the active second layer links in the network.
        It is especially helpful if a packet doesn't reach the destination node. In this case we can see at a glance where the communication is jammed.
    </p>
    <p>    
        The example consists of 3 simulation models, each demonstrating different features of data link visualization.
    </p>
        <!--
            Visualizing data links is useful, because based on this we can determine the second layer links in the network.
            Miért jó ez a visualizer?
            problem: Komplex hálózatokban (főleg wireless) nehéz meghatározni, hogy melyik node-ok között van aktív 2. rétegbeli kapcsolat.
            A datalinkVisualizer-rel ránézésre meg tudjuk állapítani, hogy melyek az aktív második rétegbeli linkek a hálózatban.
            Könnyen azonosítani tudjuk a hálózatban lévő adatkapcsolati rétegben létrejött kapcsolatokat.
            Wireless hálózatokban különösen hasznos, mert láthatjuk, hogy melyik eszköz melyik eszköznek küldött vmilyen csomagot.
            Vezetékes kapcsolatoknál is segít, ha pl. egy csomag nem jut el egy állomástól egy másik távoli állomáshoz, 
            akkor könnyedén azonosíthatjuk, hogy hol akad el a csomag.
            A visualizer két szomszédos eszköz között működik, így lépésről-lépésre követhetjük a csomag útvonalát.

            in wireless networks, because we can see which device .
            In wired networks it is also advantageous, e.g

            Mit mutat be a sample?
            A sample-ön belül 3 szimulációt találunk, egyre bonyolultabbakat. Mindegyikben különböző funkciókat mutatunk be.         
        -->
	
    <p><h2>About the visualizer</h2></p>
    
    <p> 
        The <var>DatalinkVisualizer</var> keeps track of active data links in a network.
        A link becomes active between two nodes when a packet arrives at the receiver node's data link layer from the source node's data link layer.
        Data links can be established only between adjacent devices.
        By default links are not displayed, we can enable their visualization by switching the <i>displayLinks</i> parameter to true.
    </p>   
    <p> 
        The links are represented visually by solid arrows.
        The arrow's starting point is the sender node and its endpoint is the receiver node.
        The visualizer has filtering parameters, like <i>nodeFilter</i>, <i>interfaceFilter</i> and <i>packetFilter</i>.
        Using these we can specify which data links are shown. By default all nodes, all interfaces and all packets are considered for displaying data links.
        It is possible to use logical expressions as the filter's parameter, e.g <i>packetFilter = "ping* or tcp*"</i> shows the ping and the tcp data links.
    </p>
        
        <!--
            Mi ez a visualizer?
            A datalinkVisualizer-rel nyilvántarthatjuk az aktív kapcsolatokat a hálózatunkban.
            Akkor alakul ki link két eszköz között, amikor egy csomag az egyik eszköz adatkapcs. rétegétől a másik eszköz adatkapcs. rétegébe érkezik.
            A kapcsolatokat folyamatos nyilak reprezentálják.
            Szűrni tudjuk, hogy milyen típusú csomagok esetén figyelje a link kialakulását.
            A linkVisualizer leszármazottja, ebből adódóan az összes ilyen tulajdonságát testreszabhatjuk, mint pl. nyíl típusa, packet/nodefilter...
            Több visualizer-t is elhelyezhetünk a szimulációban, ezzel jobban áttekinthetővé téve az adatkapcsolati rétegben létrejött kapcsolatokat.
        -->

	<p><h2>Enabling data links</h2></p>

    <p>
        In this configuration we show how to enable the visualization's default look.
        We visualize data links both in a wired and in a wireless network.
    </p>
    <p>
        The wired network contains two <var>Standardhost</var> nodes, an <var>IPv4NetworkConfigurator</var> module and a <var>DataLinkVisualizer</var> module.
        In wireless network the type of the hosts is <var>AdhocHost</var> and there is an additional <var>Ieee80211ScalarRadioMedium</var> module.
    </p>
 <!--   <p>
        Both networks contain two hosts, an <var>IPv4NetworkConfigurator</var> module and a <var>DataLinkVisualizer</var> module.
        There is only two difference between the networks. In the wireless configuration there is an <var>Ieee80211ScalarRadioMedium</var> module and the nodes' type is <var>AdhocHost</var>. Howewer in the wired network <var>StandardHost</var> type of nodes communicate with each other.
    </p>    -->
    <p align="center">
        <img width=600 src="DLinkVisuWiredSimple.png">
    </p>
    <p align="center">
        <img width=600 src="DLinkVisuWlessSimple.png">
    </p>    
    <p>
        In both configurations the source host pings the destination host, and an additional line of code enables the <var>DatalinkVisualizer</var> with the <i>displayLinks</i> parameter.
        <div class="snippet">
            *.linkVisualizer.*.displayLinks = true
        </div>
        All other parameters are left on their default.
    </p>
    <p>
        When we start the simulation, here is what happens:
    </p>
    <p align="center">
        <img width=600 src="enablingDatalinksWless.gif">
    </p>
    <p align="center">
        <img width=600 src="enablingDatalinksWired.gif">
    </p>
    <p>
        The communication starts between the nodes.
        When a message reaches its destination's data link layer, the datalink is activated between the nodes and an arrow is shown pointing from the sender towards the receiver.
        Then the arrow fades out in real time.
    </p>
        <!--
            Mit csinálunk / mi a sample célja?
                Ebben a példában megmutatjuk hogy kell bekapcsolni a visualizer-t
                A default kinézetét fogjuk látni
                Egy wired és egy wireless példán keresztül is megmutatjuk a vizualizációt
                
            Mi a konfig?
                Ez a network végig ugyanaz marad
                2 wreless host, 2 wired host
                wirelessSource a wirelessDestination-t pingeli, ugyanez a wired-nél
                bekapcsoljuk a visualizert
                default paramétereket használjuk

            Mi az eredmény?
                gif
                megjelenítődnek az összes datalinkek
                valós időben elhalványulnak
        -->

   
    <p><h2>Data link visualization in a complex network</h2></p>

    <p>
        This configuration demonstrates the visualization of data links in a non-trivial network.
        In this simulation we also show how the filters work.
        The network for this configuration is here:
    </p>
    <p align="center">
        <img width=600 src="DatalinkVisualizerComplex.png">
    </p>
    <p>
        The network contains four switches and four endpoints, two source hosts and two destination hosts.
        The source hosts pings the destination hosts.
        Data links are enabled, but they are filtered. They are displayed only if a ping message is sent.
        We adjust the <i>fadeOutMode</i> and the <i>fadeOutTime</i> parameters to see better the active links.
        Here is the configuration:
        <div class="snippet">
            # Application parameters<br>
            *.source*.numPingApps = 1<br>
            <br>
            *.source1.pingApp[0].destAddr = "destination1"<br>
            *.source2.pingApp[0].destAddr = "destination2"<br>
            <br>
            # Visualizer parameters<br>
            *.visualizer.*.dataLinkVisualizer.displayLinks = true<br>
            *.visualizer.*.dataLinkVisualizer.fadeOutMode = "simulationTime"<br>
            *.visualizer.*.dataLinkVisualizer.fadeOutTime = 1.4s<br>
            *.visualizer.*.dataLinkVisualizer.packetFilter = "ping*"<br>
        </div>
    </p>
    <p>
        The following animation shows what happens when we start the simulation:
    </p>
    <p align="center">        
        TODO: gif
    </p>
    <p>
        Only ping messages activate the data links between the nodes because of the <i>packetFilter</i>.
        The data links are represented by solid arrows.
        The arrows start to fade out in simulation time, but they don't disappear completely, because the fadeOutTime is greater than the sending interval of ping messages.
        Only one data link can be activated per direction between the nodes.
        When another packet is sent between the same nodes, the same data link is activated.
    </p>

    <!--
            Mit csinálunk / mi a sample célja?
                A cél a DatalinkVisualizer működésének bemutatása komplex hálózatban
                Megmutatjuk a szűrő funkció(kat)
                Megmutatjuk, hogy mi történik, ha több csomag is ugyanazok között a pontok között több data link aktiválódik
                
            Mi a konfig?
                A hálózatban 4 switch és 4 host van, amiből kettő source és kettő dest.
                A source-ok pingelik a dest-eket.
                A data linkeket bekapcsoljuk a displayLinks-el.
                Csak a ping data link-jeit mutatjuk meg, használjuk a szűrő funkciót.

            Mi az eredmény?
                gif
                A packetFilter miatt csak a ping üzenetek aktiválják a node-ok között a data linkeket, az ARP üzenetek nem.
                Ezek folytonos nyilakként jelennek meg és a fadeOutTime-nak megfelelő idő alatt elhalványodnak.
                A node-ok között egy irányba csak egy aktív data link aktiválódhat, másik ping üzenet ugyanazt a linket aktiválja újra.
        -->

    <p><h2>Displaying dynamic data links</h2></p>

    <p>
        The goal of this configuration is to demonstrates 
    </p>

    <!--
            Mit csinálunk / mi a sample célja?
                A cél a DatalinkVisualizer működésének bemutatása komplex hálózatban
                Megmutatjuk a szűrő funkció(kat)
                Megmutatjuk, hogy mi történik, ha több csomag is ugyanazok között a pontok között több data link aktiválódik
                
            Mi a konfig?
                A hálózatban 4 switch és 4 host van, amiből kettő source és kettő dest.
                A source-ok pingelik a dest-eket.
                A data linkeket bekapcsoljuk a displayLinks-el.
                Csak a ping data link-jeit mutatjuk meg, használjuk a szűrő funkciót.

            Mi az eredmény?
                gif
                A packetFilter miatt csak a ping üzenetek aktiválják a node-ok között a data linkeket, az ARP üzenetek nem.
                Ezek folytonos nyilakként jelennek meg és a fadeOutTime-nak megfelelő idő alatt elhalványodnak.
                A node-ok között egy irányba csak egy aktív data link aktiválódhat, másik ping üzenet ugyanazt a linket aktiválja újra.
        -->

<!-- Alcim minta   
    <p><h2>Sample</h2></p>

    <p>
    </p>
-->    

    <p><h2>More information</h2></p>

    <p>
        This example only demonstrated the key features of data link visualization. For more information, refer to the 
<var>DatalinkVisualizer</var> NED documentation.
    </p>

</body>
</html>
