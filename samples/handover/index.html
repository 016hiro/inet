<html>
<head>
	<title>Handover example</title>
	<link rel="stylesheet" type="text/css" href="opp.css">
</head>

<body>
	<h1><center>Handover example</h1>

	<p><h2>Goals</h2></p>

	<p>
		This example simulation demonstrates the handover between two access points 
		(APs) in the 802.11 wireless LAN. The network will consist of two 
		APs, placed 400 meters apart, and a wireless host moving out of range
		of one access point and into the range of the other. The goal is to show 
		how the handover happens between the two APs.
	</p>

	<p><h2>The model</h2></p>

<p>
	In the 802.11 Wireless Standard, wireless hosts need to be associated
	with an access point before any data exchange can occur. The hosts can find an
	access point in two ways. One is active scanning, where the hosts transmit Probe Request frames,
	and the APs reply to these with Probe Response frames. The other is passive scanning,
	where the hosts locate APs by receiving the Beacon frames sent by the APs.
	APs emit Beacon frames periodically, anouncing their presence (unless configured to be hidden).
	In this simulation, the host uses active scanning.
</p>

<p>
	Once the hosts wants to join an AP, the authentication process begins.
	The AP checks if the host has the neccessary privileges, ie. the host knows the password
	for the AP.
</p>

<p>
	After the host is authenticated, comes the association process. During the process,
	the capabilities of the AP and the host are exchanged. When it is complete, the data
	exchange can begin.
</p>

<p>
	In this simulation there will be no data exchange, the host will just be associated to the
	APs, and keep receiving beacon frames.
</p>

<p><b>The network</b></p>

	<p>The example simulation uses to following network:</p>

	<p><center><img src="network.png"></center></p>

<p>
		Note that there is no <tt>configurator</tt> module in the network. It is not needed because there is no transport layer
		communication, only physical and link layer.
</p>

<p><b>Configuration</b></p>

<p>
The two access points are set to use the channels 2 and 3. The management module is set to scan 5 channels, so
it will scan channels 0 to 4.
</p>

<p>
The entry <i>**.networkConfiguratorModule = ""</i> is needed because by default, <tt>wirelessHost</tt>s look for a IPv4NetworkConfigurator module
in the network. Since this network has no configurator, it must be specified in the host not to use any. Otherwise, the simulation
would give an error.
</p>

<p>
Note that another way of dealing with the error would be to just add a configurator module, which would not do anything.
to keep the network simpler, this model uses the former method.
</p>

<p><h2>Results</h2></p>

<p>
At the beginning of the simulation, the host starts to scan the channels, looking for an access point to associate with.
This is triggered by the host's agent module, as it is set to active scanning.
</p>

<p>
During the scanning process, the host send a Probe Request frame in each channel starting from channel 0, until it receives a Probe Response.
As ap1 is on channel 2, the host sends out three Probe Requests before it gets a Probe Response. This is shown in the following packet log.
</p>

<center><img src="scan.png"></center>

The olive arrows indicate recent successful physical layer transmissions. In this example, they will be used to visualize that the host is associated with an AP.
The APs send out beacon frames periodically, which is now configured to be 100 ms. These frames are received by the host, which constantly reinforce the physical
link visualizer arrows.

<p>     When the host gets the Probe Response, it initiates the authentication
process. After that is completed, it starts the association process.     When it
becomes associated with ap1, a text bubble appears at the host indicating that
it is associated with the AP. The authentication and association processes are
shown in the packet log below. </p>

<center><img src="assoc.png"></center>

<p>
When the host is in range of ap1, the only communication is the host receiving ap1's beacon frames. This is indicated by the olive arrows, which only go from the AP to the host.
</p>

<p>
The host remains associated to ap1 until it is in communication range with it, even though it is also in communication range of ap2 when it enters the
area where the two APs' communication range circles intersect. As it leaves ap1's range, the host detects that it no longer receives ap1's beacon frames. 
A text bubble appears at the host indicating that it has lost the beacon. The scanning process is triggered by the host's agent module.
This is triggered when 4 consecutive Beacon frames are not received.
</p>
This time it takes four Probe Request frames to get a response, because ap2 is on channel 3.
</p>

<p>
The host is handed over to ap2, and will remain so until it leaves ap2's communication range.
</p>

Here is an animation showing the host moving across the playground.

<center><img src="handover2.gif">

</body>
</html>